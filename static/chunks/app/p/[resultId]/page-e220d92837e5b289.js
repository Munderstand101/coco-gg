(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{43571:(e,t,r)=>{Promise.resolve().then(r.bind(r,80034)),Promise.resolve().then(r.bind(r,15120)),Promise.resolve().then(r.bind(r,66699)),Promise.resolve().then(r.t.bind(r,42467,23)),Promise.resolve().then(r.t.bind(r,94614,23)),Promise.resolve().then(r.bind(r,63142)),Promise.resolve().then(r.bind(r,34004))},80034:(e,t,r)=>{"use strict";let n,o;r.d(t,{default:()=>eI});var s=r(69160),a=r.t(s,2),i=r(66699),l=r(79995),c=r.t(l,2),d=r(992),u=r(17290),m=r(80913),p=r(39181),f=r(23324);let h=m.zt,g=l.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(m.l_,{className:(0,f.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col lg:max-w-[420px]",r),ref:t,...n})});g.displayName=m.l_.displayName;let b=(0,p.j)("group pointer-events-auto relative flex max-w-[420px] flex-col gap-3 overflow-hidden rounded-xl p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background",destructive:"destructive group border-[#DA3036] bg-[#DA3036] text-white",warning:"warning group border-warning bg-warning text-warning-foreground"}},defaultVariants:{variant:"default"}}),v=l.forwardRef((e,t)=>{let{className:r,variant:n,...o}=e;return(0,s.jsx)(m.fC,{className:(0,f.cn)(b({variant:n}),r),ref:t,...o})});v.displayName=m.fC.displayName;let y=(0,p.j)("inline-flex h-8 shrink-0 items-center justify-center rounded-md px-3 text-sm font-medium transition-colors focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-transparent hover:bg-secondary group-[.destructive]:hover:bg-destructive"}},defaultVariants:{variant:"default"}});l.forwardRef((e,t)=>{let{className:r,variant:n,...o}=e;return(0,s.jsx)(m.aU,{className:(0,f.cn)(y({variant:n}),r),ref:t,...o})}).displayName=m.aU.displayName;let w=l.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(m.x8,{className:(0,f.cn)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),ref:t,"toast-close":"",...n,children:(0,s.jsx)(u.Pxu,{className:"h-4 w-4"})})});w.displayName=m.x8.displayName;let x=l.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(m.Dx,{className:(0,f.cn)("text-sm font-semibold [&+div]:text-xs",r),ref:t,...n})});x.displayName=m.Dx.displayName;let j=l.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(m.dk,{className:(0,f.cn)("text-sm opacity-90",r),ref:t,...n})});j.displayName=m.dk.displayName;let E=0,z=new Map,_=e=>{if(z.has(e))return;let t=setTimeout(()=>{z.delete(e),T({type:"REMOVE_TOAST",toastId:e})},1e6);z.set(e,t)},k=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?_(r):e.toasts.forEach(e=>{_(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},S=[],I={toasts:[]};function T(e){I=k(I,e),S.forEach(e=>{e(I)})}function N(e){let{...t}=e,r=(E=(E+1)%Number.MAX_VALUE).toString(),n=()=>T({type:"DISMISS_TOAST",toastId:r});return T({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>T({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function C(){let{toasts:e}=function(){let[e,t]=l.useState(I);return l.useEffect(()=>(S.push(t),()=>{let e=S.indexOf(t);e>-1&&S.splice(e,1)}),[e]),{...e,toast:N,dismiss:e=>T({type:"DISMISS_TOAST",toastId:e})}}();return(0,s.jsxs)(h,{children:[e.map(function(e){let{id:t,title:r,description:n,action:o,...a}=e;return(0,s.jsxs)(v,{...a,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[r&&(0,s.jsx)(x,{children:r}),n&&(0,s.jsx)(j,{children:n})]}),(0,s.jsx)("div",{className:"flex justify-end gap-2",children:o}),(0,s.jsx)(w,{})]},t)}),(0,s.jsx)(g,{})]})}function P(e){return e?{done:!e.next,error:e.error,data:e.curr}:{done:!0,error:"Something went wrong",data:void 0}}async function L(e){if("Connection closed."===e&&navigator.onLine){let e=new URL(window.location.href),t=Number(e.searchParams.get("retry")||0);if(t<3)return e.searchParams.set("retry",String(t+1)),await (0,f.sleep)(1e3),window.location.href=e.toString(),!0}}function R(e){if(!e.textContent||e.parentNode&&["STYLE","SCRIPT","TEXTAREA"].includes(e.parentNode.nodeName))return;let t=e.textContent,r=t.length,n=0;e.textContent="",function o(){if(!(n>=r)){for(;n<r;){let r=t[n];if(e.textContent+=r,n++,!/\s/.test(r))break}setTimeout(o,5+20*Math.random())}}()}let A=null,O=!1;function M(e,t){return(0,l.useEffect)(()=>{e.current=t},[t,e]),e}function D(e){if(e.target&&["A","BUTTON"].includes(e.target.tagName))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation,!1}var F=r(1389),U=r.n(F),W=r(37143);let B=[],V=!1,H=new Promise(e=>{n=()=>{e(),V=!0}});function q(e){H.then(()=>{parent.postMessage(e,"*")},console.error)}window.addEventListener("message",e=>{for(let t of(window.debug&&console.log("parent event handler",e.data),e.data&&"parent_ready"===e.data.type&&!V&&n(),B))t(e.data)});var X=r(60608),$=r.t(X,2);async function Y(e){if("shadcn"===e)return Promise.resolve().then(r.bind(r,63142))}async function G(e){let t={};for(let r of e)Object.assign(t,await Y(r));return t}var J=r(34004);function Z(e,t){if(e.includes(",")&&t.includes(",")){let[r,n]=e.split(",",2),[o,s]=t.split(",",2);return r===o?parseInt(n)-parseInt(s):parseInt(r)-parseInt(o)}return parseInt(e)-parseInt(t)}var K=r(85522);let Q=(0,r(9509).$)("25cb2cd87cb163e3ffb1f19da7c44234fd754423"),ee=()=>{},et=new Promise(e=>ee=e);async function er(e,t){if(await et,!o||(void 0===t&&(t=o.rootFile),!e.startsWith(".")))return;let r=e.split("/");""===r[r.length-1]&&(r[r.length-1]="index");let n=t.split("/");for(let e=0;e<r.length;e++){let t=r[e];".."===t?0===n.length||".."===n[n.length-1]?n.push(".."):(/[^]+\.\w+/.test(n[n.length-1])&&n.pop(),n.pop()):"."===t?n.pop():(r.length,n.push(t))}let s=n.join("/");if(o.mapping[s])return s;for(let e of["ts","tsx","js","jsx","vue"]){let t=s+"."+e;if(o.mapping[t])return t}}let en={"framer-motion":()=>r.e(4720).then(r.bind(r,4720)),recharts:()=>Promise.all([r.e(6568),r.e(6866),r.e(5527)]).then(r.bind(r,5527)),"@react-three/fiber":()=>Promise.all([r.e(6907),r.e(6810),r.e(8441),r.e(5172)]).then(r.bind(r,45172)),"@react-three/drei":()=>Promise.all([r.e(6907),r.e(6810),r.e(5168),r.e(5996),r.e(8441),r.e(6518),r.e(8770)]).then(r.bind(r,87533)),"@react-three/rapier":()=>Promise.all([r.e(6907),r.e(6810),r.e(2302),r.e(8441),r.e(254)]).then(r.bind(r,20254)),"@react-three/cannon":()=>Promise.all([r.e(6907),r.e(6810),r.e(6430),r.e(8441)]).then(r.bind(r,37165)),"@react-three/postprocessing":()=>Promise.all([r.e(6907),r.e(6810),r.e(7338),r.e(8441),r.e(6518),r.e(9143)]).then(r.bind(r,89143)),meshline:()=>Promise.all([r.e(6907),r.e(6288)]).then(r.bind(r,56288)),"@xyflow/react":()=>Promise.all([r.e(8450),r.e(5683),r.e(7819)]).then(r.bind(r,77223)),reactflow:()=>Promise.all([r.e(8290),r.e(5683),r.e(2116)]).then(r.bind(r,92116)),"reactflow/dist/style.css":()=>Promise.all([r.e(1503),r.e(4366)]).then(r.t.bind(r,64366,23)),"@stripe/react-stripe-js":()=>r.e(3499).then(r.t.bind(r,13499,23)),"@stripe/stripe-js":()=>r.e(6319).then(r.bind(r,36319)),axios:()=>Promise.all([r.e(6518),r.e(455)]).then(r.bind(r,455)),zod:()=>Promise.resolve().then(r.bind(r,82226)),"react-hook-form":()=>Promise.resolve().then(r.bind(r,87311)),"@hookform/resolvers/zod":()=>r.e(2383).then(r.bind(r,32383))};if("undefined"!=typeof document){function eo(e,t){globalThis["__"+e]=t;let r=new Blob(["const ".concat(e,"=globalThis.__").concat(e,";export{").concat(e," as default};").concat(Object.keys(t).map(t=>"default"===t?"":"export const ".concat(t," = ").concat(e,".").concat(t,";")).join(""))],{type:"application/javascript"});return URL.createObjectURL(r)}let e=document.createElement("script");e.type="importmap",e.textContent=JSON.stringify({imports:{react:eo("React",c),"react-dom":eo("ReactDOM",$),"react/jsx-runtime":eo("ReactJSXRuntime",a)}}),document.head.appendChild(e)}function es(e){let{children:t}=e;return t}async function ea(e){let t=await G(["shadcn"]);for(let[r,n]of Object.entries(e))if(r.startsWith("@/components/ui")){for(let e of n)if(e.includes(":")){let[r,n]=e.split(":");t[n]=t[r]}}return{components:new Proxy({...J,...t,...$,...c,"React.Fragment":l.Fragment,"React.Suspense":l.Suspense},{get:(e,t)=>t in e?e[t]:es}),apis:{...c,...$}}}function ei(e){return"https://esm.sh/".concat(e,"?external=react,react-dom")}let el={};function ec(e){return el[e]||(el[e]=(0,K.e)(e))}function ed(e){return e.split("").map((e,t)=>e.toUpperCase()===e?"".concat(0!==t?"-":"").concat(e.toLowerCase()):e).join("")}let eu={"lucide-react":(e,t)=>{let r=ed(t).replace(/-icon$/,"");return"https://esm.sh/lucide-react@0.379.0/dist/esm/icons/".concat(r,"?external=react,react-dom")},"@heroicons/react":(e,t)=>"https://esm.sh/".concat(e,"/").concat(t,"?external=react,react-dom"),"react-feather":(e,t)=>"https://esm.sh/react-feather/dist/icons/".concat(ed(t),"?external=react,react-dom")};function em(e,t){for(let r of t.split(".")){if(!e||void 0===e[r])return;e=e[r]}return e}function ep(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(""===e)return["",{}];if(e.startsWith("default:"))return[e.slice(8),t.default||t];if(e.startsWith("*:"))return[e.slice(2),t];if(e.includes(":")){let[n,o]=e.split(":");return[o,r?em(t,n)||t.default||t:em(t,n)]}return[e,(t.default?em(t.default,e):em(t,e))||em(t,e)||t.default]}async function ef(e){let{imports:t,resultId:n,sessionToken:s,baseFile:a}=e,i={},l=Object.entries(t);return await Promise.all(l.map(async e=>{let[t,l]=e,c=function(e){let[t,...r]=e.split("/");return t.startsWith("@")||t.startsWith("~")?"".concat(t,"/").concat(r[0]):t}(t);if(c in eu){let e=eu[c];return Promise.all(l.map(async r=>{try{let n=await ec(e(t,r.split(":")[0])),[o,s]=ep(r,n,!0);i[o]=s}catch(e){throw console.error(e),{type:"import-error",message:'Failed to load "'.concat(r,'" from "').concat(c,'". Please check if it exists.')}}}))}if("react"===t||"react-dom"===t||"next"===t||t.startsWith("next/")||t.startsWith("@/")||t.startsWith("~/")||t.startsWith(".")){if(t.startsWith("next/")){let e;for(let n of("next/navigation"===t?e=await r.e(4905).then(r.bind(r,14905)):"next/link"===t?e=await Promise.resolve().then(r.bind(r,48531)):"next/image"===t?e=await r.e(5933).then(r.bind(r,85933)):"next/script"===t?e=await r.e(2637).then(r.bind(r,92637)):"next/web-vitals"===t?e=await r.e(9212).then(r.t.bind(r,69212,23)):"next/dynamic"===t?e=await Promise.resolve().then(r.bind(r,992)):"next/font/google"===t?e=function(e){let t={};for(let r of e){let e=r.replace(/_/g," ");t[r]=t=>{let{weight:r,style:n,display:o="swap",variable:s}=t||{},a=n?[...new Set(Array.isArray(n)?n:[n])]:[],i=r?[...new Set(Array.isArray(r)?r:[r])]:[],l=a.includes("italic"),c=a.includes("normal"),d=function(e,t,r){let n=[];if(t.wght)for(let e of t.wght){var o,s;if(t.ital)for(let r of t.ital)n.push([["ital",r],["wght",e],...null!==(s=t.variableAxes)&&void 0!==s?s:[]]);else n.push([["wght",e],...null!==(o=t.variableAxes)&&void 0!==o?o:[]])}else t.variableAxes&&n.push([...t.variableAxes]);t.variableAxes&&n.forEach(e=>{e.sort((e,t)=>{let[r]=e,[n]=t,o=r.charCodeAt(0)>96,s=n.charCodeAt(0)>96;return o&&!s?-1:s&&!o?1:r>n?1:-1})});let a="https://fonts.googleapis.com/css2?family=".concat(e.replace(/ /g,"+"));return n.length>0&&(a="".concat(a,":").concat(n[0].map(e=>{let[t]=e;return t}).join(","),"@").concat(n.map(e=>e.map(e=>{let[,t]=e;return t}).join(",")).sort(Z).join(";"))),a="".concat(a,"&display=").concat(r)}(e,{wght:i,ital:l?[...c?["0"]:[],"1"]:void 0},o),u=function(e){let t=btoa(e);return"f_".concat(t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}(e);if("undefined"!=typeof document&&!document.querySelector('link[href="'.concat(d,'"]'))){let t=document.createElement("link");t.href=d,t.rel="stylesheet",document.head.appendChild(t);let r=document.createElement("style");r.innerHTML=".".concat(u,"{\n            font-family: '").concat(e,"';\n          }").concat(s?".v_".concat(u,"{").concat(s,":'").concat(e,"';}"):""),document.head.appendChild(r)}return{className:u,style:{fontFamily:"'".concat(e,"'")},variable:"v_"+u}}}return t}(l):"next/cache"===t?e=await r.e(7828).then(r.bind(r,47828)):"next/headers"===t&&(e=await r.e(2598).then(r.bind(r,2598))),l)){let[t,r]=ep(n,e);i[t]=r}}else if("@/components/ui/use-toast"===t||"~/components/ui/use-toast"===t){let e=await r.e(2639).then(r.bind(r,72639));for(let t of l){let[r,n]=ep(t,e);i[r]=n}}else if("@/lib/utils"===t||"~/lib/utils"===t){let e=await Promise.resolve().then(r.bind(r,23324));for(let t of l){let[r,n]=ep(t,e);i[r]=n}}else if("@/components/ui/button"===t||"~/components/ui/button"===t){let e=await Promise.resolve().then(r.bind(r,77822));for(let t of l){let[r,n]=ep(t,e);i[r]=n}}else if("@/components/ui/badge"===t||"~/components/ui/badge"===t){let e=await Promise.resolve().then(r.bind(r,38949));for(let t of l){let[r,n]=ep(t,e);i[r]=n}}else if("@/components/ui/toggle"===t||"~/components/ui/toggle"===t){let e=await Promise.resolve().then(r.bind(r,20658));for(let t of l){let[r,n]=ep(t,e);i[r]=n}}else if("@/components/ui/sidebar"===t||"~/components/ui/sidebar"===t){let e=await Promise.resolve().then(r.bind(r,38641));for(let t of l){let[r,n]=ep(t,e);i[r]=n}}else if(t.startsWith(".")){let e=await er(t,a);if(!e)return;let r=o.mapping[e],c=await Q({resultId:n,extraResultId:r,sessionToken:s});if("error"in c)throw Error(c.error);let d=await eh({runtimeCode:c.runtime,imports:c.imports,resultId:n,sessionToken:s,baseFile:e});if(!d[0])return;for(let e of l){let[t,r]=ep(e,{default:d[0]});i[t]=r}}}else try{let e=await (t in en?en[t]():c in en?en[c]():ec("https://esm.sh/".concat(t,"?external=react,react-dom")));for(let t of l){let[r,n]=ep(t,e);i[r]=n}}catch(e){throw console.error(e),{type:"import-error",message:"Failed to load the ".concat(t," library.")}}})),i}async function eh(e){let{runtimeCode:t,imports:r,resultId:n,sessionToken:o,baseFile:s}=e;try{var a;let[e,i]=await Promise.all([ea(r),ef({imports:r,resultId:n,sessionToken:o,baseFile:s})]);return[(a=[c,{__dynamic_module__:ei,...e.components,...i},{__dynamic_module__:ei,...e.apis,...i}],Function("React","__components__","__apis__",t.replace("export default __Comp__","return __Comp__(React, __components__, __apis__)"))(...a)),!0]}catch(e){if(e&&"import-error"===e.type)return[null,!1,e.message];console.error(e)}return[null,!1]}class eg extends l.Component{componentDidUpdate(e){e.runtimeError!==this.props.runtimeError&&this.props.reportError(this.props.runtimeError||"An expected error occurred")}componentDidCatch(e){this.props.reportError(e.message||"An unexpected error occurred")}static getDerivedStateFromError(e){return console.error(e),{error:e.message||"An error occurred"}}render(){return this.state.error||this.props.runtimeError?(0,s.jsxs)(s.Fragment,{children:[this.props.fallback||this.props.children,!this.props.isChat&&(0,s.jsxs)("div",{className:"fixed bottom-10 left-3 z-[9999] rounded-[4px] bg-red-500 px-2 py-1 text-[12px] text-white/90",children:["Error: ",this.state.error||this.props.runtimeError]})]}):this.props.children}constructor(...e){super(...e),this.state={error:null}}}let eb=new Map;function ev(e,t,r){"finished"===r&&"0"!==e&&"2"!==e&&"22"!==e&&"19"!==e&&eb.get(t)!==e&&(eb.set(t,e),q({type:"error",error:e,resultId:t}))}function ey(e){let{error:t,resultId:r,runtimeError:n,isChat:o}=e;window.debug&&console.error("[debug] error card",t);let a="",i="",c=null,d=!1;switch(t){case"15":a="This generation was cancelled",i="This item was cancelled and no credits were consumed.",d=!0;break;case"11":a="The result could not be found",i="It may have been deleted or never existed.";break;case"21":a="Failed to process the request",i="Please try adjusting your prompt to be more specific about the UI you want to create.",d=!0;break;case"RUNTIME_ERROR":a="Something went wrong",i=n?(0,s.jsxs)(s.Fragment,{children:["There was an error while rendering the UI:",(0,s.jsx)("code",{className:"mb-2 block font-semibold",children:n.message}),"Please try editing the generated code."]}):"There was an error while rendering the UI. Please try editing the generated code.";break;case"0":a="Out of credits",i="You have no credits left for this month.",c=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("a",{className:"cursor-pointer text-sm underline underline-offset-2 hover:opacity-80",onClick:e=>{e.preventDefault(),q({type:"open-billing"})},children:"Upgrade your plan"})," ","or"," ",(0,s.jsx)("a",{className:"cursor-pointer text-sm underline underline-offset-2 hover:opacity-80",onClick:e=>{e.preventDefault(),q({type:"purchase-credits"})},children:"purchase more credits"})," ","to continue."]});break;case"1":a="Out of Vision generations",i="You have no Vision generations left for this month.",c=(0,s.jsx)("a",{className:"cursor-pointer text-sm underline underline-offset-2 hover:opacity-80",onClick:e=>{e.preventDefault(),q({type:"open-billing"})},children:"Upgrade your plan to continue."});break;case"19":a="Code too long",i=(0,s.jsxs)(s.Fragment,{children:["It looks like your edited code is too long.",(0,s.jsx)("br",{}),"Please try again with a shorter edit."]});break;case"Connection closed.":a="Stream interrupted",i="Please try refreshing the page.";break;case"22":a="Invalid image",i="v0 is unable to generate a UI from this image.",c=(0,s.jsx)("a",{className:"cursor-pointer text-sm underline underline-offset-2 hover:opacity-80",onClick:e=>{e.preventDefault(),q({type:"redirect-to-home"})},children:"Try another image"});break;default:a="Oops, something went wrong",i=(0,s.jsxs)(s.Fragment,{children:["We’ve noted the issue and are actively resolving it.",(0,s.jsx)("br",{}),"Feel free to adjust your prompt and try again."]}),d=!0}return(0,l.useLayoutEffect)(()=>{let e=document.body.classList.contains("v0-c");return document.body.classList.remove("v0-c"),()=>{e&&document.body.classList.add("v0-c")}},[]),(0,s.jsx)("div",{className:"flex h-screen flex-col items-center justify-center bg-zinc-50 dark:bg-zinc-800",id:"error-card",children:(0,s.jsxs)("div",{className:"mx-4 max-w-md rounded-lg border bg-white p-8 pb-6 text-center dark:bg-zinc-900",children:[(0,s.jsx)("h2",{className:"mb-4 text-xl font-semibold tracking-tight text-zinc-800 dark:text-zinc-100",id:"error-title",children:a}),(0,s.jsx)("p",{className:"text-sm leading-6 text-zinc-600 dark:text-zinc-300",children:i}),(0,s.jsx)("p",{className:"mt-4 text-sm leading-6 text-zinc-600 dark:text-zinc-300",children:c||(0,s.jsxs)(s.Fragment,{children:[d&&!o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"font-semibold",children:"No charges"})," incurred for this generation.",(0,s.jsx)("br",{})]}):null,!o&&(0,s.jsx)("a",{className:"cursor-pointer underline decoration-from-font underline-offset-2 hover:opacity-80",onClick:e=>{e.preventDefault(),q({type:"open-feedback"})},children:"Share your feedback"})]})}),(0,s.jsxs)("p",{className:"mt-6 font-[menlo] text-[10px] opacity-40",children:["(",r,")"]})]})})}var ew=r(36615);let ex=(0,l.memo)(function(e){let{name:t,type:r,tags:n}=e,o=t.replace(/\s/g,"+"),a="'".concat(t,"', ").concat("sans"===r||"sans-serif"===r?"sans-serif":"serif"===r?"serif":"monospace");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=".concat(o,":,i,b&display=block"),precedence:"v0_font"}),(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:"".concat("headings"===n?"h1, h2, h3, h4, h5, h6":"body"," { font-family: ").concat(a,"; --font-").concat(r,": '").concat(t,"'; }\n")}})]})});function ej(e){let t=(null==e?void 0:e.radius)?(0,s.jsx)("style",{children:"#v0-container{--radius:".concat(e.radius.value,"rem}")}):null;return(null==e?void 0:e.font)?(0,s.jsxs)(s.Fragment,{children:[e.font.headings?(0,s.jsx)(ex,{name:e.font.headings.name,tags:"headings",type:e.font.headings.type}):null,e.font.body?(0,s.jsx)(ex,{name:e.font.body.name,tags:"body",type:e.font.body.type}):null,t]}):t}function eE(e){let{theme:t}=e,[r,n]=(0,l.useState)(""),o=(0,l.useMemo)(()=>{var e;return t?(0,ew.bl)(null===(e=t.revision)||void 0===e?void 0:e.values):{}},[t]);return((0,l.useLayoutEffect)(()=>{let e=o["--background"];if(!e)return;let{hueRotate:t,extra:r,opacity:s}=(0,ew.jG)(e);n('img[src="/placeholder.svg"],img[src="/placeholder-user.jpg"]{filter:sepia(.3) hue-rotate('.concat(t,"deg) saturate(.5) opacity(").concat(s,") ").concat(r,"}"))},[o]),t)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:":root{".concat(Object.entries(o).map(e=>{let[t,r]=e;return"".concat(t,":").concat(r,";")}).join(""),"}")+r}}),(0,s.jsx)(ex,{name:t.revision.values.fontFamily.heading.name,tags:"headings",type:t.revision.values.fontFamily.heading.type}),(0,s.jsx)(ex,{name:t.revision.values.fontFamily.body.name,tags:"body",type:t.revision.values.fontFamily.body.type})]}):null}r(16407);let ez=(0,d.default)(()=>Promise.all([r.e(9351),r.e(7933)]).then(r.bind(r,7933)).then(e=>e.CSSLoader),{loadableGenerated:{webpack:()=>[7933]}}),e_=new W.z({max:100}),ek=window.location.search.includes("stage=1");class eS extends l.Component{componentDidCatch(e){var t,r;this.setState({error:e,errorNodeSnapshot:this.props.node}),null===(t=(r=this.props).onError)||void 0===t||t.call(r,e instanceof Error?e.message:"RUNTIME_ERROR")}render(){return this.state.error&&this.state.errorNodeSnapshot===this.props.node?(0,s.jsx)(ey,{error:"RUNTIME_ERROR",isChat:this.props.isChat,resultId:this.props.resultId,runtimeError:this.state.error}):this.props.children}constructor(...e){super(...e),this.state={error:null}}}function eI(e){var t,r;r=e.isChat,(0,l.useEffect)(()=>{if(r)return;let e=e=>{e.target&&e.target instanceof HTMLElement&&e.target.closest("a")&&e.preventDefault()},t=e=>{e.preventDefault()};return window.addEventListener("click",e,{capture:!0}),window.addEventListener("submit",t,{capture:!0}),()=>{window.removeEventListener("click",e,{capture:!0}),window.removeEventListener("submit",t,{capture:!0})}},[r]);let[n,a]=(0,l.useState)([]),c=P(e.initialResultStreamable),{newCommitFromRemix:d,streamInResult:u,previewEdit:m}=e,[p,f]=(0,l.useState)(e.resultId),[h,g]=(0,l.useState)(e.token),[b,v]=(0,l.useState)(!c.done),[y,w]=l.useState(c.error||null),[x,j]=l.useState(null),[E,z]=l.useState(null),[_,k]=l.useState(!1),[S,I]=l.useState(null),[T,N]=(0,l.useState)(!1),[F,W]=(0,l.useState)(!1),H=(0,l.useRef)(p);M(H,p);let X=(0,l.useRef)(h);M(X,h);let $=(0,l.useRef)(_);M($,_);let Y=(0,l.useRef)(b);M(Y,b);let G=l.useRef(null),[J,Z]=l.useState((null===(t=c.data)||void 0===t?void 0:t.jsx)||null),[K,Q]=l.useState(null),[et,er]=l.useState(()=>c.data?ej(c.data.meta):null),[en,eo]=l.useState(()=>{var e;return(null===(e=c.data)||void 0===e?void 0:e.theme)?(0,s.jsx)(eE,{theme:c.data.theme}):null}),es=(0,l.useRef)({x:0,y:0}),ea=l.useRef(!1),[ei,el]=(0,l.useState)();(0,l.useEffect)(()=>{ei?q({type:ei,resultId:H.current}):q({type:"loading",resultId:H.current})},[ei]),(0,l.useEffect)(()=>{let e=!1,t=()=>{if(e)return;let t=document.body.querySelectorAll("img,svg,audio,video,canvas,button,input,textarea,select").length;for(let o of("complete"===document.readyState&&(t=1e4),document.body.children)){var n;let s=o.getBoundingClientRect();if(0!==s.width&&0!==s.height&&(t++,(null===(n=o.textContent)||void 0===n?void 0:n.trim())&&t++,!e&&t>=2)){e=!0,r.disconnect(),document.querySelector("#error-card")||q({type:"started_visible_render"});break}}},r=new MutationObserver(t);return r.observe(document.body,{childList:!0,subtree:!0}),document.addEventListener("DOMContentLoaded",t),t(),()=>{r.disconnect(),document.removeEventListener("DOMContentLoaded",t)}},[]),(0,l.useEffect)(()=>{e_.set(e.resultId,e.initialResultStreamable)},[e.resultId,e.initialResultStreamable]),(0,l.useEffect)(()=>{q({type:"init",resultId:H.current})},[]);let ec=(0,l.useRef)((0,l.useMemo)(()=>U()(e=>{var t;e&&q({type:"code",resultId:H.current,code:e,htmlCode:null===(t=G.current)||void 0===t?void 0:t.innerHTML.replace(/ data-id="\d+"/g,"").replace(/\n    /g,"\n").replace(/<!--\$-->/g,"").replace(/<!--\/\$-->/g,"")})},500),[])),ed=(0,l.useRef)(),eu=(0,l.useCallback)(e=>{let t=!1,r=()=>{},n=()=>{},o=null;function c(e){if(!e)return;let n=[];if("QUEUED"===e.info?n.push(()=>{var t;(null===(t=e.componentLibraries)||void 0===t?void 0:t.length)&&a(e.componentLibraries),el("queued")}):"HEARTBEAT"===e.info&&n.push(()=>{el("before-streaming")}),null!==e.code&&void 0!==e.code&&(ec.current({source:e.code,imports:e.imports||{},components:e.components||[],meta:e.meta,componentLibraries:e.componentLibraries||["shadcn"],theme:e.theme}),r=ec.current.cancel),e.jsx&&(o=e.jsx,n.push(()=>{el("streaming"),e.runtime||(Z(e.jsx),Q(null))})),e.meta&&n.push(()=>er(ej(e.meta))),e.theme&&n.push(()=>eo((0,s.jsx)(eE,{theme:e.theme}))),e.runtime){let t=e.runtime;n.push(async()=>{let[r,n,a]=await eh({runtimeCode:t,imports:e.imports,sessionToken:X.current,resultId:H.current});r?(Z(n?(0,s.jsx)(r,{},"runtime"):(0,s.jsx)(r,{})),Q(o)):(o&&Z(o),a&&j(a))})}n.length>0&&(0,l.startTransition)(async()=>{for(let e of n){if(t)return;try{await e()}catch(e){console.error(e),w(e.message)}}})}ed.current&&ed.current(),ed.current=()=>{t=!0,r(),n()},(async function(){(0,l.startTransition)(()=>{w(null),j(null),el(void 0)}),ea.current||(n=function(){let e=setTimeout(()=>{O=!0,document.documentElement.classList.remove("v0-streaming-finished"),A&&(A.disconnect(),A=null),A=new MutationObserver(e=>{if(O){for(let t of e)if("childList"===t.type)for(let e of t.addedNodes)!function(e){if("#text"===e.nodeName)R(e);else if(e.childNodes.length>0)for(let t=0;t<e.childNodes.length;t++)"#text"===e.childNodes[t].nodeName&&R(e.childNodes[t])}(e)}});let e=document.querySelector("#v0-container");e&&A.observe(e,{subtree:!0,attributes:!1,characterData:!1,childList:!0})},300);return()=>clearTimeout(e)}());try{let r=P(e);if(r.done){if(r.error)throw r.error;c(r.data)}else for await(let r of(0,i.mj)(e)){if(t)return;c(r)}}catch(r){if(console.error("Error during streaming:",r),t)return;let e=r instanceof Error?r.message:("string"==typeof r?r:String(r))||"Something went wrong";if(await L(e))return;w(e)}finally{t||(setTimeout(()=>{O=!1,document.documentElement.classList.add("v0-streaming-finished"),A&&(A.disconnect(),A=null)},300),(0,l.startTransition)(()=>{v(!1),el("finished")}))}})().catch(e=>{console.error("Error during read:",e),w(e instanceof Error?e.message:"Something went wrong during read")})},[]);(0,l.useEffect)(()=>{eu(e.initialResultStreamable)},[eu,e.initialResultStreamable]);let em=(0,l.useCallback)(async e=>{let{prompt:t,isDeletion:r}=e;if(!eb.current||!document.body.querySelector('[data-id="'.concat(eb.current,'"]')))return;let n=eb.current;try{v(!0),ea.current=!0,r?W(!0):N(!0);let e=await d(H.current,n,X.current,{prompt:t,isDeletion:r});if("error"in e)throw Error(e.error);if(I(null),z(null),k(!1),w(null),j(null),!e.ok)throw Error("Something went wrong");let o=e.rscRes;q({type:"track-refine",resultId:H.current,prompt:t}),e_.set(e.resultId,o),f(e.resultId),g(e.sessionToken),eu(o)}catch(e){console.error(e),v(!1),q({type:"track-refine",resultId:H.current,prompt:t,error:e instanceof Error?e.message:"unknown"}),q({type:"error",error:e instanceof Error?e.message:"Something went wrong",resultId:H.current});return}finally{W(!1),N(!1)}q({type:"new_commit_from_refinement",resultId:H.current})},[d,eu]);(0,l.useEffect)(()=>{var t;let r=!1,n=(t=async t=>{switch(t.type){case"hover_mode":k(t.hoverMode),t.hoverMode||(I(null),z(null));break;case"update_meta":(0,l.startTransition)(()=>{er(ej(t.meta)),e_.delete(t.resultId)});break;case"update_theme":(0,l.startTransition)(()=>{eo((0,s.jsx)(eE,{theme:t.theme})),e_.delete(t.resultId)});break;case"unselect":I(null);break;case"change_id":if(H.current!==t.resultId){w(null),j(null);let n=e_.get(t.resultId);n||v(!0),(0,l.startTransition)(async()=>{if(!n)try{n=await u({resultId:t.resultId,sessionToken:t.sessionToken,isChat:e.isChat||!1}),e_.set(t.resultId,n)}catch(e){console.error(e),v(!1),w(e instanceof Error?e.message:"Something went wrong");return}if(r){v(!1);return}ea.current=!1,f(t.resultId),g(t.sessionToken),eu(n)})}break;case"iframe_blur":I(null),z(null);break;case"submit_edit":await em({prompt:t.prompt});break;case"submit_delete":await em({prompt:"",isDeletion:!0});break;case"preview_reload":try{let t=await u({resultId:H.current,sessionToken:X.current,isChat:e.isChat||!1});e_.set(H.current,t),eu(t)}catch(e){console.error("Failed to refresh preview",e),w("Something went wrong")}break;case"preview_code":e_.delete(H.current),w(null),j(null),v(!0);try{let r=await m({code:t.code,sessionToken:X.current,resultId:H.current,isChat:e.isChat||!1});if(v(!1),r.error)"19"===r.error&&(Z((0,s.jsx)(ey,{error:"19",isChat:e.isChat,resultId:H.current})),Q(null));else if(r.runtime){let[e,t,n]=await eh({runtimeCode:r.runtime,imports:r.imports,sessionToken:X.current,resultId:H.current});e?(Z(t?(0,s.jsx)(e,{},"runtime"):(0,s.jsx)(e,{})),Q(r.jsx)):n&&w(n)}else Z(r.jsx),Q(null)}catch(e){console.error("Failed to preview result",e),w("Something went wrong")}break;case"sync_file_mapping":o=t.data,ee()}},B.push(t),()=>{let e=B.findIndex(e=>e===t);e>=0&&B.splice(e,1)});return()=>{n(),r=!0}},[em,m,e.isChat,eu,u]),(0,l.useEffect)(()=>{let e=e=>{if(Y.current||!$.current)return;let t=e.target.closest("[data-id]");if(!t)return;let r=t.getAttribute("data-id");r||z(null),z(r)};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)},[S]);let ep=S||E,ef=S?"selected":"hovered";(0,l.useEffect)(()=>{if(Y.current)return;let e=document.body.querySelector('[data-id="'.concat(ep,'"]'));if(e)return function(e,t){let r=e.getBoundingClientRect(),n=document.createElement("div");n.className="hovered"===t?"absolute transition-all pointer-events-none z-[9998] border-dashed border border-blue-500 bg-blue-400/40 rounded-lg v0-overlay content-box":"absolute transition-all pointer-events-none z-[9998] border-dashed border-2 border-blue-500 bg-blue-400/40 rounded-lg v0-overlay content-box";let o="hovered"===t?1:2,s=r.top>0?3:0,a=r.left>0?3:0,i=r.right<window.innerWidth?3:0,l=r.bottom<window.innerHeight?3:0,c=r.top+window.scrollY-s-o,d=r.left+window.scrollX-a-o,u=r.width+a+i+2*o,m=r.height+s+l+2*o;return n.style.top="".concat(c,"px"),n.style.left="".concat(d,"px"),n.style.width="".concat(u,"px"),n.style.height="".concat(m,"px"),n.setAttribute("data-note",e.tagName.toLowerCase()),document.body.appendChild(n),()=>{document.body.removeChild(n)}}(e,ef)},[ep,ef]);let eb=(0,l.useRef)(S);M(eb,S),function(e){let t=(0,l.useRef)(e);M(t,e),(0,l.useEffect)(()=>{let e=e=>t.current(e);return window.addEventListener("keydown",e,{capture:!0}),()=>window.removeEventListener("keydown",e,{capture:!0})},[])}(e=>{if("Escape"===e.key){let t;return(E||S)&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t=!1),S||q({type:"disable_hover_mode"}),I(null),z(null),q({type:"unselect_element"}),t}}),(0,l.useEffect)(()=>{let e=e=>{if(q({type:"pointer_down"}),Y.current)return D(e);if(!$.current)return;if(eb.current)return I(null),z(null),q({type:"unselect_element"}),D(e);e.preventDefault(),e.stopPropagation();let t=e.target,r=null==t?void 0:t.closest("[data-id]");if(!r)return;I(r.getAttribute("data-id")),q({type:"select_element"});let n=e.pageX-window.scrollX,o=e.pageY-window.scrollY;return es.current={x:n,y:o},D(e)};return window.addEventListener("pointerdown",e,{capture:!0}),()=>window.removeEventListener("pointerdown",e,{capture:!0})},[]),(0,l.useEffect)(()=>{if(!b)for(let e of Array.from(document.querySelectorAll("a")))e.setAttribute("rel","ugc")},[b]);let ew=!!(_&&S&&E)||T||F;(0,l.useEffect)(()=>{q({type:"set_popup_visible",visible:ew,x:es.current.x,y:es.current.y})},[ew]),(0,l.useEffect)(()=>{let e=setInterval(()=>{V&&clearInterval(e),parent.postMessage({type:"set_loading",loading:b},"*")},100);return()=>clearInterval(e)},[b]),(0,l.useEffect)(()=>{q({type:"set_submitting_edit",submitting:T,resultId:H.current})},[T]),(0,l.useEffect)(()=>{q({type:"set_submitting_delete",submitting:F,resultId:H.current})},[F]);let ex=function(){let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if("tailwind"in window){t(!0);return}let e=[...document.getElementsByTagName("script")].find(e=>{var t;return null===(t=e.getAttribute("src"))||void 0===t?void 0:t.startsWith("/assets/tailwind.js")});e?e.addEventListener("load",()=>{t(!0)}):console.error("Could not load application styles.")},[]),e}(),eI=function(e,t,r,n){let[o,s]=(0,l.useState)(!1);return(0,l.useLayoutEffect)(()=>{if(!e||!t.current)return;s(!0);let n=!1;for(let e of t.current.childNodes)if(e instanceof HTMLElement){if(["SCRIPT","STYLE"].includes(e.tagName))continue;if(e.hasAttribute("data-waiting-since"))return;let t="SECTION"===e.tagName,r=/(^| )w-(\[|\d)/.test(e.className),o=/(^| )max-w-/.test(e.className),s="card"===e.dataset.v0T,a="badge"===e.dataset.v0T,i=["BUTTON","IMG","FORM","INPUT","SPAN","FIELDSET","LABEL","SELECT","TEXTAREA","CODE","PRE","A"].includes(e.tagName);if(!(r||o||i||s||a)||t){n=!0;break}}if(n)document.body.classList.remove("v0-c");else if(document.body.classList.add("v0-c"),r){let e=t.current.getBoundingClientRect(),r=Math.max(1,Math.min((window.innerWidth-256)/Math.max(e.width,1),(window.innerHeight-256)/Math.max(e.height,1),3));t.current.style.transform="scale(".concat(r,")")}},[e,r,t,n]),o}(!!J&&ex,G,ek,J);return((0,l.useEffect)(()=>{y&&ev(y,H.current,ei)},[y,ei]),(0,l.useEffect)(()=>{if(x)return;let e=e=>{eT(e.error.message,H.current)},t=e=>{eT(e.reason.message,H.current)};return window.addEventListener("error",e),window.addEventListener("unhandledrejection",t),()=>{window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",t)}},[!!x]),y)?e.thumbnail?(0,s.jsx)("img",{alt:"Broken generation",src:"/broken.svg"}):(0,s.jsx)(ey,{error:y,isChat:e.isChat,resultId:H.current}):(0,s.jsxs)(s.Fragment,{children:[_?(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:"#v0-container *{cursor:default}[data-id]{cursor:default}"}}):null,n.includes("geist")?(0,s.jsx)(ez,{}):null,(0,s.jsx)(C,{}),(0,s.jsx)(eS,{node:J,onError:e=>{ev(e,H.current,ei)},resultId:p,children:(0,s.jsxs)("div",{className:"!visible transition-opacity duration-150 bg-background text-foreground"+(eI?" !opacity-100":""),id:"v0-container",ref:G,style:{visibility:"hidden",opacity:0},children:[(0,s.jsx)(l.Suspense,{children:en||et}),(0,s.jsx)(eg,{isChat:e.isChat,runtimeError:x,fallback:K,reportError:e=>{eT(e,H.current)},children:J})]})})]})}function eT(e,t){q({type:"runtime-error",error:e,resultId:t})}},16407:()=>{"process"in window||(window.process={}),window.process.env||(window.process.env={NEXT_PUBLIC_SUPABASE_URL:"https://v0.dev",NEXT_PUBLIC_SUPABASE_ANON_KEY:"anon-key"})},85522:(e,t,r)=>{"use strict";function n(e){if(/\.css($|\?)/i.test(e)){let t=document.createElement("link");return t.rel="stylesheet",t.href=e,document.head.appendChild(t),Promise.resolve({})}return import(e).catch(t=>{if(e.startsWith("http"))return import(e);throw t})}r.d(t,{e:()=>n})},36615:(e,t,r)=>{"use strict";r.d(t,{jG:()=>f,bl:()=>p});var n=r(82226);let o=n.z.enum(["serif","sans-serif","monospace"]);n.z.object({type:o,label:n.z.string()});let s=n.z.object({name:n.z.string(),type:o});n.z.object({selector:n.z.string(),name:n.z.string(),type:o,variableName:n.z.string(),cssVariableName:n.z.string(),importName:n.z.string(),importPackage:n.z.string(),tailwindConfig:n.z.string()}),n.z.object({h:n.z.number().min(0).max(360),s:n.z.number().min(0).max(100),l:n.z.number().min(0).max(100)});let a=n.z.object({name:n.z.string(),colors:n.z.object({background:n.z.string().optional(),foreground:n.z.string().optional()})}),i=n.z.object({group:a.shape.name,values:n.z.object({contrast:n.z.number().optional(),readable:n.z.boolean().optional()}),failures:n.z.object({contrast:n.z.string().nullish(),readable:n.z.string().nullish()}).nullish(),isValid:n.z.boolean()}),l=n.z.object({values:n.z.object({range:n.z.number().optional()}),isValid:n.z.boolean(),failures:n.z.object({range:n.z.string().nullish()})});n.z.object({colors:n.z.array(i),radius:l});let c=n.z.object({colors:n.z.record(n.z.string(),n.z.string()),fontFamily:n.z.record(n.z.string(),s.pick({name:!0,type:!0})),radius:n.z.number()}),d=n.z.object({id:n.z.string(),themeId:n.z.string(),userId:n.z.string(),createdAt:n.z.string().or(n.z.number()),values:c,userPrompt:n.z.string().optional(),systemPromptVersion:n.z.string().optional(),model:n.z.string().optional()}),u=n.z.object({id:n.z.string(),userId:n.z.string(),name:n.z.string().min(2,"Theme name must be at least 2 characters long").max(32,"Theme name cannot be longer than 32 characters"),createdAt:n.z.string().or(n.z.number()),deleted:n.z.boolean().optional(),deletedAt:n.z.string().or(n.z.number()).optional(),revision:d.pick({id:!0,values:!0,userPrompt:!0}),shareable:n.z.boolean().optional()});n.z.object({fontFamily:n.z.record(n.z.string(),n.z.array(n.z.string())),colors:n.z.record(n.z.string(),n.z.union([n.z.string(),n.z.record(n.z.string(),n.z.string())])),borderRadius:n.z.record(n.z.string(),n.z.string())});let m=d.pick({themeId:!0,userId:!0,values:!0,userPrompt:!0,systemPromptVersion:!0,model:!0});function p(e){if(!e)return{};let t=e.colors?Object.fromEntries(Object.entries(e.colors).map(e=>{let[t,r]=e;return void 0===r?[]:["--".concat(t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/([a-zA-Z])(\d)/g,"$1-$2").toLowerCase()),r]})):{},r="number"==typeof e.radius?{"--radius":"".concat(e.radius,"rem")}:{};return{...t,...r}}function f(e){let[t,r,n]=e.split(" "),o=parseInt(t)-60,s=.8,a="";return 80>parseInt(n)&&(o=-o,a="invert(.9)",s=.5),{hueRotate:o,extra:a,opacity:s}}u.pick({userId:!0,name:!0}).extend({revision:m.pick({values:!0,userPrompt:!0,systemPromptVersion:!0,model:!0})}).pick({name:!0,revision:!0,userId:!0}),u.pick({id:!0}).extend({revision:d.pick({values:!0,userPrompt:!0})}),u.pick({id:!0,name:!0,shareable:!0})}},e=>{var t=t=>e(e.s=t);e.O(0,[7215,7848,3737,919,2226,8503,1011,569,2952,7484,1744],()=>t(43571)),_N_E=e.O()}]);